Tuyá»‡t vá»i! Náº¿u báº¡n Ä‘Ã£ "duyá»‡t" káº¿ hoáº¡ch, chÃºng ta sáº½ báº¯t tay vÃ o pháº§n Technical Implementation (Triá»ƒn khai ká»¹ thuáº­t).

DÆ°á»›i Ä‘Ã¢y lÃ  cáº¥u trÃºc code Python (Skeleton Code) cho há»‡ thá»‘ng nÃ y. TÃ´i sáº½ táº­p trung vÃ o 2 pháº§n quan trá»ng nháº¥t: Logic xá»­ lÃ½ ná»™i dung báº±ng AI (Ä‘á»ƒ lÃ¡i sang bÃ¡n hÃ ng) vÃ  Code Ä‘áº©y bÃ i lÃªn Facebook + Auto Comment Link.

Cáº¥u TrÃºc Project (Folder Structure)
Báº¡n nÃªn tá»• chá»©c thÆ° má»¥c nhÆ° sau Ä‘á»ƒ dá»… quáº£n lÃ½:

Plaintext
/shopee-auto-bot
â”‚
â”œâ”€â”€ main.py                 # File cháº¡y chÃ­nh (Main Loop)
â”œâ”€â”€ config.py               # Chá»©a API KEY, Page Token, Shopee Link
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ crawler.py          # Class láº¥y bÃ i tá»« Voz/Reddit
â”‚   â”œâ”€â”€ ai_writer.py        # Class gá»i Gemini/OpenAI Ä‘á»ƒ viáº¿t bÃ i
â”‚   â””â”€â”€ fb_publisher.py     # Class Ä‘Äƒng bÃ i & comment Facebook
â””â”€â”€ data/
    â””â”€â”€ posted_ids.txt      # LÆ°u ID bÃ i Ä‘Ã£ cÃ o Ä‘á»ƒ trÃ¡nh Ä‘Äƒng trÃ¹ng
Pháº§n 1: Module AI Writer (ai_writer.py)
ÄÃ¢y lÃ  "bá»™ nÃ£o" cá»§a tool. Nhiá»‡m vá»¥ lÃ  biáº¿n má»™t cÃ¢u chuyá»‡n "tÃ o lao" thÃ nh má»™t bÃ i bÃ¡n hÃ ng duyÃªn dÃ¡ng.

Python
# modules/ai_writer.py
import google.generativeai as genai
from config import GEMINI_API_KEY

genai.configure(api_key=GEMINI_API_KEY)

class AIContentCreator:
    def __init__(self):
        self.model = genai.GenerativeModel('gemini-2.0-flash') # DÃ¹ng báº£n Flash cho ráº» vÃ  nhanh

    def generate_selling_post(self, original_content, product_info):
        """
        original_content: Ná»™i dung cÃ o tá»« Voz/Reddit
        product_info: Dict chá»©a {tÃªn_sp, cÃ´ng_dá»¥ng}
        """
        
        # PROMPT Ká»¸ THUáº¬T CAO (Chain-of-thought)
        prompt = f"""
        Báº¡n lÃ  má»™t Admin Fanpage hÃ i hÆ°á»›c, hÆ¡i "bá»±a" nhÆ°ng ráº¥t duyÃªn.
        
        Nhiá»‡m vá»¥: 
        1. HÃ£y Ä‘á»c cÃ¢u chuyá»‡n gá»‘c dÆ°á»›i Ä‘Ã¢y:
        "{original_content}"
        
        2. Viáº¿t láº¡i cÃ¢u chuyá»‡n nÃ y ngáº¯n gá»n hÆ¡n (táº§m 100-150 tá»«), giá»¯ giá»ng vÄƒn ká»ƒ khá»• hoáº·c chÃ¢m biáº¿m.
        
        3. QUAN TRá»ŒNG: á» cuá»‘i bÃ i, hÃ£y "báº» lÃ¡i" (plot twist) sang viá»‡c giá»›i thiá»‡u sáº£n pháº©m nÃ y má»™t cÃ¡ch mÆ°á»£t mÃ  nháº¥t, khiáº¿n ngÆ°á»i Ä‘á»c buá»“n cÆ°á»i mÃ  váº«n muá»‘n mua:
        - Sáº£n pháº©m: {product_info['name']}
        - CÃ´ng dá»¥ng: {product_info['desc']}
        
        4. YÃªu cáº§u output: Chá»‰ tráº£ vá» ná»™i dung bÃ i viáº¿t (Caption), khÃ´ng kÃ¨m lá»i dáº«n. DÃ¹ng icon há»£p lÃ½.
        """
        
        response = self.model.generate_content(prompt)
        return response.text.strip()
Pháº§n 2: Module Facebook Publisher (fb_publisher.py)
Module nÃ y chá»‹u trÃ¡ch nhiá»‡m Ä‘Äƒng bÃ i vÃ  quan trá»ng nháº¥t lÃ  Auto-comment link dÆ°á»›i bÃ i viáº¿t Ä‘Ã³ (Ä‘á»ƒ trÃ¡nh bá»‹ Facebook bÃ³p tÆ°Æ¡ng tÃ¡c bÃ i viáº¿t chÃ­nh).

Python
# modules/fb_publisher.py
import requests
import time

class FacebookPoster:
    def __init__(self, page_access_token, page_id):
        self.token = page_access_token
        self.page_id = page_id
        self.base_url = "https://graph.facebook.com/v19.0"

    def post_image_and_text(self, caption, image_url):
        """
        ÄÄƒng áº£nh kÃ¨m caption lÃªn Page
        """
        url = f"{self.base_url}/{self.page_id}/photos"
        payload = {
            'message': caption,
            'url': image_url, # URL áº£nh (hoáº·c upload file local)
            'access_token': self.token
        }
        
        response = requests.post(url, data=payload)
        if response.status_code == 200:
            post_id = response.json().get('id') # Láº¥y Post ID vá» Ä‘á»ƒ comment
            print(f"âœ… ÄÃ£ Ä‘Äƒng bÃ i thÃ nh cÃ´ng! ID: {post_id}")
            return post_id
        else:
            print(f"âŒ Lá»—i Ä‘Äƒng bÃ i: {response.text}")
            return None

    def comment_affiliate_link(self, post_id, shopee_link):
        """
        Tá»± Ä‘á»™ng comment link Shopee vÃ o bÃ i vá»«a Ä‘Äƒng (Seeding)
        """
        # Äá»£i 5s cho Facebook xá»­ lÃ½ xong bÃ i Ä‘Äƒng
        time.sleep(5) 
        
        url = f"{self.base_url}/{post_id}/comments"
        comment_text = f"Link sÄƒn sale chÃ­nh hÃ£ng cho anh em Ä‘Ã¢y nhÃ©: {shopee_link} ğŸ”¥"
        
        payload = {
            'message': comment_text,
            'access_token': self.token
        }
        
        response = requests.post(url, data=payload)
        if response.status_code == 200:
            print(f"âœ… ÄÃ£ comment link affiliate thÃ nh cÃ´ng!")
        else:
            print(f"âŒ Lá»—i comment: {response.text}")
Pháº§n 3: Logic váº­n hÃ nh (main.py)
Káº¿t ná»‘i cÃ¡c pháº§n láº¡i vá»›i nhau. Giáº£ sá»­ chÃºng ta cÃ³ danh sÃ¡ch sáº£n pháº©m máº«u.

Python
# main.py
from modules.ai_writer import AIContentCreator
from modules.fb_publisher import FacebookPoster
from config import FB_PAGE_TOKEN, FB_PAGE_ID
import random

# Giáº£ láº­p database sáº£n pháº©m Shopee (Thá»±c táº¿ báº¡n lÆ°u trong DB/Excel)
PRODUCTS = [
    {"name": "Chuá»™t Gaming Logitech", "desc": "Báº¥m Ãªm, khÃ´ng lo liá»‡t nÃºt khi combat", "link": "https://shopee.vn/abcd..."},
    {"name": "MÃ¡y cáº¡o rÃ¢u Xiaomi", "desc": "Cáº¡o sáº¡ch, khÃ´ng rÃ¡t, tÃºt láº¡i váº» Ä‘áº¹p trai", "link": "https://shopee.vn/xyz..."}
]

# Giáº£ láº­p bÃ i viáº¿t cÃ o Ä‘Æ°á»£c tá»« Voz (Thá»±c táº¿ dÃ¹ng Crawler)
MOCK_VOZ_POST = "HÃ´m nay trá»i nÃ³ng quÃ¡ anh em áº¡, ngá»“i chÆ¡i game mÃ  má»“ hÃ´i tay ra Æ°á»›t nháº¹p cáº£ chuá»™t, báº¯n toÃ n trÆ°á»£t, chÃ¡n Ä‘á»i quÃ¡."

def run_automation():
    # 1. Khá»Ÿi táº¡o
    ai = AIContentCreator()
    fb = FacebookPoster(FB_PAGE_TOKEN, FB_PAGE_ID)
    
    # 2. Chá»n sáº£n pháº©m phÃ¹ há»£p (á» Ä‘Ã¢y Ä‘ang random, nÃ¢ng cao sáº½ dÃ¹ng AI Ä‘á»ƒ match)
    selected_product = random.choice(PRODUCTS)
    
    print(f"ğŸ”„ Äang xá»­ lÃ½ bÃ i viáº¿t vá»›i sáº£n pháº©m: {selected_product['name']}...")
    
    # 3. AI viáº¿t bÃ i
    new_caption = ai.generate_selling_post(MOCK_VOZ_POST, selected_product)
    print("--- Content AI táº¡o ---")
    print(new_caption)
    print("----------------------")
    
    # 4. ÄÄƒng lÃªn Facebook
    # (DÃ¹ng áº£nh minh há»a táº¡m thá»i)
    image_url = "https://example.com/anh-minh-hoa-san-pham.jpg" 
    
    post_id = fb.post_image_and_text(new_caption, image_url)
    
    # 5. Comment Link
    if post_id:
        fb.comment_affiliate_link(post_id, selected_product['link'])

if __name__ == "__main__":
    run_automation()